So by the title you may have strong opinions right away but let me explain my case first before you call me a terrible DM in the comments. 
I am a fairly experienced DM and have been running an open world campaign with this particular party for over a year worth of weekends now. My players know basically what to expect and they level up basically whenever I feel they have done enough to level up. So they are level 9 now, about every 3 or 4 sessions they level up. But they now have control of an airship and have been using it to basically plunder my countrysides as air pirates. I planned a full session around them crashing in an unknown countryside while on the way to their next adventure so that they had to problem solve how to get their ship back airborne before they were too late to a meeting with the lord of the land about a quest. They crashed very near to a town so I expected them to go to the town. And I was right.
They got to the town and with their pockets fully lined expected to buy all the parts they need to fix the ship. This encounter was planned purposefully by me that the town was so small that gold and silver was completely useless in this town. I based it kind of on mos eisley in Star Wars episode 1 where qui gon and obi wan need to fix their hyperdrive but their credits aren’t accepted. They took it about as well as I could have expected them to. They tried to steal the parts from the local wagoneer and when they got caught they stepped off. They are pirates but not necessarily evil, maybe on a grey line. But after that bit we were maybe half an hour into the session and they all agreed that they would just pack up and walk to the nearest real town, they generally knew where they were crashed so they would walk back in the direction they came from until the next town. Which was literally 70 miles away. When they said they were just gonna walk to the next town I said “ ok we will end the season there then” and the whole party was pretty up in arms immediately because we usually have 4 or 5 hour sessions from 7 to 11 or maybe a little later. I said it would take so long to walk to the next town that it would take to next session to walk there. They obviously expected me to have a basically fast travel with a couple rolls for random encounters like I usually do. But I had a whole session around them bartering their stuff in this town and meeting colorful characters in the cantina and all that. I had basically nothing but that planned, I could have come up with stuff on the spot but it would have never gone as well as I would have liked. After I threatened to end the session they begrudgingly went back into the town and went along with me in bartering with the people in town with some minor magic items they had on hand and other things obviously I didn’t force anyone to give up items they were particularly attached to or were especially valuable. But I wanted them to give up something to trade off fixing their ship to get on their way. 
The session from then on went “fine?” The party didn’t seem happy about being semi railroaded into this town and I wasn’t happy that they obviously felt that way. We had some ok times in the cantina and they met some colorful and memorable characters but it felt bad in general.
At the end of the session I asked my players as usual what they thought, if they would change anything etc. and they had a consensus that I was a dick for basically holding the session hostage with staying in the town. And I agree it felt really bad to do it but I really didn’t have an option besides that. They wanted to take a trip that could take months of in game time over doing some roleplaying in this town to continue their quest to the lord. 
So all in all, I felt terrible for doing it but was I really in the wrong here for threatening to end the session so early in an attempt to keep the party from making such an obviously idiotic decision. Honestly really rip me up in comments, I want to know what any of you would do or change what I would do. Sorry for the long post.